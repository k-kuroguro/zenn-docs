---
title: "ハフマン符号を Rust で実装する"
emoji: "🗜️"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["algorithm", "rust"]
published: false
---

# ハフマン符号とは

ハフマン符号 (Huffman coding) は, 1952年に Huffman 氏によって開発された符号で, データの可逆圧縮 (ZIP や JPEG など) に使用されている. 文字の出現頻度を調べ, 頻度の高い文字に短いビット列を, 低い文字には長いビット列を割り当てることでデータを圧縮する.

## エンコード

以下の流れでエンコードが行われる.

1. 平文における各文字の出現頻度を調べる.
1. この出現頻度をもとにハフマン木を作る.
1. ハフマン木から各文字に割り当てるビット列を求め, その対応表を作る.
1. 平文を探索し, 各文字をビット列へ変換する.
1. 変換されたビット列にヘッダーとしてビット列の長さ, 平文の長さ, エンコードしたハフマン木とその長さを含める.

以上の手順では, 平文を2回探索する必要がある. このようなハフマン符号を静的ハフマン符号といい, それに対し, 探索と木の構築を同時に行っていくものを動的ハフマン符号という. 本記事では静的ハフマン符号を実装する.

## デコード

以下の流れでデコードが行われる.

1. ヘッダーからハフマン木を復元する.
2. ハフマン木からビット列と文字の対応表を作る.
3. ビット列を探索し, 文字に変換する.

# 実装



# 参考サイト

Purdue 大学の講義資料.
https://engineering.purdue.edu/ece264/17au/hw/HW13?alt=huffman

Jeff Erickson 著 Algorithms の電子版.
4章 Greedy Algorithms 内にハフマン符号の説明がある.
http://jeffe.cs.illinois.edu/teaching/algorithms/

TypeScript での実装記事.
https://zenn.dev/kota_yata/articles/97f43987efd069
